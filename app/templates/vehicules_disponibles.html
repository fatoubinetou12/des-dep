{% extends "layout.html" %}
{% block title %}Nos v√©hicules ‚Äì SD Travel{% endblock %}

{% block content %}

<!-- ===== En-t√™te ===== -->
<section class="py-5 text-white text-center"
         style="background:url('https://images.unsplash.com/photo-1503376780353-7e6692767b70') center/cover no-repeat;">
  <div class="container py-4" style="background:rgba(0,0,0,0.55); border-radius:14px;">
    <h1 class="fw-bold mb-2">Notre flotte ‚Äì SD Travel</h1>
    <p class="mb-0">Choisissez votre v√©hicule et r√©servez en quelques clics.</p>
  </div>
</section>

<!-- ===== Liste des v√©hicules (depuis la BDD) ===== -->
<section class="py-5 bg-light">
  <div class="container">
    {% if vehicules %}
    <div class="row g-4">
      {% for v in vehicules %}
        {% set img = v.image and (v.image|lower|slice(0,4) == 'http')
                    and v.image or url_for('static', filename=(v.image or 'images/vehicules/placeholder.jpg')) %}
        <div class="col-12 col-md-6 col-lg-4">
          <div class="card h-100 shadow-sm vehicle-card">
            <div class="ratio ratio-16x9">
              <img src="{{ img }}" alt="{{ v.marque }} {{ v.modele }}" class="card-img-top object-cover">
            </div>
            <div class="card-body d-flex flex-column">
              <h5 class="card-title mb-1">
                {{ v.type or 'V√©hicule' }} ‚Äì {{ v.marque }} {{ v.modele }}
              </h5>
              <p class="text-muted mb-2">
                {{ v.caracteristiques_techniques or 'Confort, s√©curit√© et √©l√©gance.' }}
              </p>

              <ul class="list-unstyled small mb-3">
                <li>üë• Capacit√© : {{ v.capacite_passagers or 4 }} passagers</li>
                {% if v.nb_valises %}<li>üß≥ Valises : {{ v.nb_valises }}</li>{% endif %}
                {% if v.coffre_de_toit %}<li>üì¶ Coffre de toit : Oui</li>{% endif %}
              </ul>

              <div class="mt-auto d-flex gap-2">
                <a href="{{ url_for('main.reservation_page', vehicule_id=v.id) }}"
                   class="btn btn-dark w-100">R√©server</a>
                <a href="{{ url_for('main.reservation_page', vehicule_id=v.id) }}#details"
                   class="btn btn-outline-secondary w-100">D√©tails</a>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
    {% else %}
      <div class="text-center py-5">
        <p class="lead mb-3">Aucun v√©hicule disponible pour le moment.</p>
        <a href="{{ url_for('main.home') }}" class="btn btn-outline-dark">Retour √† l‚Äôaccueil</a>
      </div>
    {% endif %}
  </div>
</section>
<section class="py-5 bg-light">
  <div class="container text-center">
    <i class="bi bi-car-front-fill fs-1 text-primary mb-3"></i>
    <h2 class="fw-bold">Pourquoi choisir nos v√©hicules ?</h2>
    <p class="lead mb-4">
      Chez <strong>SD Travel</strong>, nous mettons l‚Äôaccent sur la qualit√©, la fiabilit√© et le confort.
    </p>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="p-3 border rounded h-100 shadow-sm bg-white">
          <h5> Confort & √âl√©gance</h5>
          <p class="small mb-0">Des v√©hicules haut de gamme pour un trajet agr√©able et styl√©.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-3 border rounded h-100 shadow-sm bg-white">
          <h5> Ponctualit√© & R√©activit√©</h5>
          <p class="small mb-0">Nos chauffeurs professionnels sont form√©s √† l‚Äôexcellence du service.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-3 border rounded h-100 shadow-sm bg-white">
          <h5>S√©curit√© & S√©r√©nit√©</h5>
          <p class="small mb-0">Voyagez en toute tranquillit√©, nous nous occupons de tout.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Style local pour images bien cadr√©es -->
<style>
  .object-cover { object-fit: cover; width: 100%; height: 100%; }
  .vehicle-card img { border-top-left-radius: .375rem; border-top-right-radius: .375rem; }
</style>

{% endblock %}
